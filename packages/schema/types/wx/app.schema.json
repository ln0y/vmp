{
  "type": "object",
  "properties": {
    "pages": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "static": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/IAppJSONStaticConfig"
      }
    },
    "mini-ios": {
      "allOf": [
        {
          "$ref": "#/definitions/IOriginAppJSON"
        },
        {
          "type": "object",
          "properties": {
            "pages": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        }
      ]
    },
    "mini-android": {
      "allOf": [
        {
          "$ref": "#/definitions/IOriginAppJSON"
        },
        {
          "type": "object",
          "properties": {
            "pages": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        }
      ]
    },
    "mini-weixin": {
      "allOf": [
        {
          "$ref": "#/definitions/IOriginAppJSON"
        },
        {
          "type": "object",
          "properties": {
            "pages": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        }
      ]
    },
    "__warning__": {
      "type": "string"
    },
    "window": {
      "$ref": "#/definitions/IWindow"
    },
    "plugins": {
      "type": "object",
      "additionalProperties": {
        "$ref": "#/definitions/IPluginConfig"
      }
    },
    "entryPagePath": {
      "type": "string"
    },
    "permission": {
      "type": "object",
      "properties": {
        "scope.userLocation": {
          "type": "object",
          "properties": {
            "desc": {
              "type": "string"
            }
          },
          "required": [
            "desc"
          ]
        },
        "scope.userFuzzyLocation": {
          "type": "object",
          "properties": {
            "desc": {
              "type": "string"
            }
          },
          "required": [
            "desc"
          ]
        }
      }
    },
    "workers": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "path": {
              "type": "string"
            },
            "isSubpackage": {
              "type": "boolean"
            }
          },
          "required": [
            "isSubpackage",
            "path"
          ]
        },
        {
          "type": "string"
        }
      ]
    },
    "subPackages": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/ISubPackageItem"
      }
    },
    "subpackages": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/ISubPackageItem"
      }
    },
    "preloadRule": {
      "type": "object",
      "additionalProperties": {
        "type": "object",
        "properties": {
          "network": {
            "enum": [
              "all",
              "wifi"
            ],
            "type": "string"
          },
          "packages": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "required": [
          "packages"
        ]
      }
    },
    "usingComponents": {
      "type": "object",
      "additionalProperties": {
        "type": "string"
      }
    },
    "componentPlaceholder": {
      "type": "object",
      "additionalProperties": {
        "type": "string"
      }
    },
    "tabBar": {
      "$ref": "#/definitions/ITabBar"
    },
    "requiredBackgroundModes": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "mimeTypeDeclarations": {
      "type": "object",
      "additionalProperties": {
        "type": "array",
        "items": {
          "type": "string"
        }
      }
    },
    "networkTimeout": {
      "type": "object",
      "properties": {
        "request": {
          "type": "number"
        },
        "connectSocket": {
          "type": "number"
        },
        "uploadFile": {
          "type": "number"
        },
        "downloadFile": {
          "type": "number"
        }
      }
    },
    "debug": {
      "type": "boolean"
    },
    "resizable": {
      "type": "boolean"
    },
    "displayMode": {
      "enum": [
        "desktop",
        "mobile",
        "pad"
      ],
      "type": "string"
    },
    "frameset": {
      "type": "boolean"
    },
    "functionalPages": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "independent": {
              "type": "boolean"
            }
          },
          "required": [
            "independent"
          ]
        },
        {
          "type": "boolean"
        }
      ]
    },
    "cloud": {
      "type": "boolean"
    },
    "cloudVersion": {
      "type": "string"
    },
    "openDataContext": {
      "type": "string"
    },
    "openLocationPagePath": {
      "type": "string"
    },
    "sitemapLocation": {
      "type": "string"
    },
    "serviceProviderTicket": {
      "type": "string"
    },
    "style": {
      "enum": [
        "v2"
      ],
      "type": "string"
    },
    "useExtendedLib": {
      "type": "object",
      "additionalProperties": {
        "type": [
          "string",
          "boolean"
        ]
      }
    },
    "entranceDeclare": {
      "type": "object",
      "properties": {
        "locationMessage": {
          "type": "object",
          "properties": {
            "path": {
              "type": "string"
            },
            "query": {
              "type": "string"
            }
          }
        }
      }
    },
    "darkmode": {
      "type": "boolean"
    },
    "themeLocation": {
      "type": "string"
    },
    "theme": {
      "type": "string"
    },
    "singlePage": {
      "type": "object",
      "properties": {
        "navigationBarFit": {
          "enum": [
            "float",
            "squeezed"
          ],
          "type": "string"
        }
      }
    },
    "lazyCodeLoading": {
      "enum": [
        "requiredComponents"
      ],
      "type": "string"
    },
    "enablePassiveEvent": {
      "anyOf": [
        {
          "type": "object",
          "additionalProperties": {
            "type": "boolean"
          }
        },
        {
          "type": "boolean"
        }
      ]
    },
    "supportedMaterials": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/ISupportMaterial"
      }
    },
    "requireBackgroundModes": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "embeddedAppIdList": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "renderer": {
      "enum": [
        "skyline",
        "webview"
      ],
      "type": "string"
    },
    "resolveAlias": {
      "type": "object",
      "additionalProperties": {
        "type": "string"
      }
    },
    "debugOptions": {
      "type": "object",
      "properties": {
        "enableFPSPanel": {
          "type": "boolean"
        }
      }
    },
    "halfPage": {
      "type": "object",
      "properties": {
        "firstPageNavigationStyle": {
          "enum": [
            "custom",
            "default"
          ],
          "type": "string"
        }
      }
    },
    "requiredPrivateInfos": {
      "type": "array",
      "items": {
        "enum": [
          "chooseAddress",
          "chooseLocation",
          "choosePoi",
          "getFuzzyLocation",
          "getLocation",
          "onLocationChange",
          "startLocationUpdate",
          "startLocationUpdateBackground"
        ],
        "type": "string"
      }
    },
    "rendererOptions": {
      "type": "object",
      "properties": {
        "defaultDisplayBlock": {
          "type": "boolean"
        },
        "skyline": {
          "type": "object",
          "properties": {
            "defaultDisplayBlock": {
              "type": "boolean"
            }
          },
          "required": [
            "defaultDisplayBlock"
          ]
        }
      }
    },
    "componentFramework": {
      "enum": [
        "exparser",
        "glass-easel"
      ],
      "type": "string"
    }
  },
  "required": [
    "pages"
  ],
  "definitions": {
    "IAppJSONStaticConfig": {
      "type": "object",
      "properties": {
        "pattern": {
          "type": "string"
        },
        "platforms": {
          "type": "array",
          "items": {
            "enum": [
              "mini-android",
              "mini-ios",
              "mini-weixin"
            ],
            "type": "string"
          }
        }
      },
      "required": [
        "pattern",
        "platforms"
      ]
    },
    "IOriginAppJSON": {
      "type": "object",
      "properties": {
        "__warning__": {
          "type": "string"
        },
        "window": {
          "$ref": "#/definitions/IWindow"
        },
        "plugins": {
          "type": "object",
          "additionalProperties": {
            "$ref": "#/definitions/IPluginConfig"
          }
        },
        "entryPagePath": {
          "type": "string"
        },
        "permission": {
          "type": "object",
          "properties": {
            "scope.userLocation": {
              "type": "object",
              "properties": {
                "desc": {
                  "type": "string"
                }
              },
              "required": [
                "desc"
              ]
            },
            "scope.userFuzzyLocation": {
              "type": "object",
              "properties": {
                "desc": {
                  "type": "string"
                }
              },
              "required": [
                "desc"
              ]
            }
          }
        },
        "workers": {
          "anyOf": [
            {
              "type": "object",
              "properties": {
                "path": {
                  "type": "string"
                },
                "isSubpackage": {
                  "type": "boolean"
                }
              },
              "required": [
                "isSubpackage",
                "path"
              ]
            },
            {
              "type": "string"
            }
          ]
        },
        "subPackages": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/ISubPackageItem"
          }
        },
        "subpackages": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/ISubPackageItem"
          }
        },
        "preloadRule": {
          "type": "object",
          "additionalProperties": {
            "type": "object",
            "properties": {
              "network": {
                "enum": [
                  "all",
                  "wifi"
                ],
                "type": "string"
              },
              "packages": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            },
            "required": [
              "packages"
            ]
          }
        },
        "usingComponents": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          }
        },
        "componentPlaceholder": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          }
        },
        "tabBar": {
          "$ref": "#/definitions/ITabBar"
        },
        "requiredBackgroundModes": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "mimeTypeDeclarations": {
          "type": "object",
          "additionalProperties": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "networkTimeout": {
          "type": "object",
          "properties": {
            "request": {
              "type": "number"
            },
            "connectSocket": {
              "type": "number"
            },
            "uploadFile": {
              "type": "number"
            },
            "downloadFile": {
              "type": "number"
            }
          }
        },
        "debug": {
          "type": "boolean"
        },
        "resizable": {
          "type": "boolean"
        },
        "displayMode": {
          "enum": [
            "desktop",
            "mobile",
            "pad"
          ],
          "type": "string"
        },
        "frameset": {
          "type": "boolean"
        },
        "functionalPages": {
          "anyOf": [
            {
              "type": "object",
              "properties": {
                "independent": {
                  "type": "boolean"
                }
              },
              "required": [
                "independent"
              ]
            },
            {
              "type": "boolean"
            }
          ]
        },
        "cloud": {
          "type": "boolean"
        },
        "cloudVersion": {
          "type": "string"
        },
        "openDataContext": {
          "type": "string"
        },
        "openLocationPagePath": {
          "type": "string"
        },
        "sitemapLocation": {
          "type": "string"
        },
        "serviceProviderTicket": {
          "type": "string"
        },
        "style": {
          "enum": [
            "v2"
          ],
          "type": "string"
        },
        "useExtendedLib": {
          "type": "object",
          "additionalProperties": {
            "type": [
              "string",
              "boolean"
            ]
          }
        },
        "entranceDeclare": {
          "type": "object",
          "properties": {
            "locationMessage": {
              "type": "object",
              "properties": {
                "path": {
                  "type": "string"
                },
                "query": {
                  "type": "string"
                }
              }
            }
          }
        },
        "darkmode": {
          "type": "boolean"
        },
        "themeLocation": {
          "type": "string"
        },
        "theme": {
          "type": "string"
        },
        "singlePage": {
          "type": "object",
          "properties": {
            "navigationBarFit": {
              "enum": [
                "float",
                "squeezed"
              ],
              "type": "string"
            }
          }
        },
        "lazyCodeLoading": {
          "enum": [
            "requiredComponents"
          ],
          "type": "string"
        },
        "enablePassiveEvent": {
          "anyOf": [
            {
              "type": "object",
              "additionalProperties": {
                "type": "boolean"
              }
            },
            {
              "type": "boolean"
            }
          ]
        },
        "supportedMaterials": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/ISupportMaterial"
          }
        },
        "requireBackgroundModes": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "embeddedAppIdList": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "renderer": {
          "enum": [
            "skyline",
            "webview"
          ],
          "type": "string"
        },
        "resolveAlias": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          }
        },
        "debugOptions": {
          "type": "object",
          "properties": {
            "enableFPSPanel": {
              "type": "boolean"
            }
          }
        },
        "halfPage": {
          "type": "object",
          "properties": {
            "firstPageNavigationStyle": {
              "enum": [
                "custom",
                "default"
              ],
              "type": "string"
            }
          }
        },
        "requiredPrivateInfos": {
          "type": "array",
          "items": {
            "enum": [
              "chooseAddress",
              "chooseLocation",
              "choosePoi",
              "getFuzzyLocation",
              "getLocation",
              "onLocationChange",
              "startLocationUpdate",
              "startLocationUpdateBackground"
            ],
            "type": "string"
          }
        },
        "rendererOptions": {
          "type": "object",
          "properties": {
            "defaultDisplayBlock": {
              "type": "boolean"
            },
            "skyline": {
              "type": "object",
              "properties": {
                "defaultDisplayBlock": {
                  "type": "boolean"
                }
              },
              "required": [
                "defaultDisplayBlock"
              ]
            }
          }
        },
        "componentFramework": {
          "enum": [
            "exparser",
            "glass-easel"
          ],
          "type": "string"
        }
      }
    },
    "IWindow": {
      "type": "object",
      "properties": {
        "backgroundColorTop": {
          "type": "string"
        },
        "backgroundColorBottom": {
          "type": "string"
        },
        "backgroundColorContent": {
          "type": "string"
        },
        "backgroundColor": {
          "type": "string"
        },
        "enablePullDownRefresh": {
          "type": "boolean"
        },
        "navigationBarTextStyle": {
          "enum": [
            "black",
            "white"
          ],
          "type": "string"
        },
        "navigationBarTitleText": {
          "type": "string"
        },
        "navigationStyle": {
          "enum": [
            "custom",
            "default"
          ],
          "type": "string"
        },
        "backgroundTextStyle": {
          "enum": [
            "dark",
            "light"
          ],
          "type": "string"
        },
        "onReachBottomDistance": {
          "type": "number"
        },
        "pageOrientation": {
          "enum": [
            "auto",
            "landscape",
            "portrait"
          ],
          "type": "string"
        },
        "navigationBarBackgroundColor": {
          "type": "string"
        },
        "renderingMode": {
          "enum": [
            "mixed",
            "seperated"
          ],
          "type": "string"
        },
        "restartStrategy": {
          "enum": [
            "homePage",
            "homePageAndLatestPage"
          ],
          "type": "string"
        },
        "visualEffectInBackground": {
          "enum": [
            "hidden",
            "none"
          ],
          "type": "string"
        },
        "initialRenderingCache": {
          "enum": [
            "dynamic",
            "static"
          ],
          "type": "string"
        },
        "handleWebviewPreload": {
          "enum": [
            "auto",
            "manual",
            "static"
          ],
          "type": "string"
        }
      }
    },
    "IPluginConfig": {
      "type": "object",
      "properties": {
        "provider": {
          "type": "string"
        },
        "version": {
          "type": "string"
        },
        "path": {
          "type": "string"
        },
        "export": {
          "type": "string"
        },
        "genericsImplementation": {
          "type": "object",
          "additionalProperties": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            }
          }
        }
      },
      "required": [
        "provider",
        "version"
      ]
    },
    "ISubPackageItem": {
      "type": "object",
      "properties": {
        "independent": {
          "type": "boolean"
        },
        "name": {
          "type": "string"
        },
        "root": {
          "type": "string"
        },
        "pages": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "plugins": {
          "type": "object",
          "additionalProperties": {
            "$ref": "#/definitions/IPluginConfig"
          }
        },
        "useExtendedLib": {
          "type": "object",
          "additionalProperties": {
            "type": [
              "string",
              "boolean"
            ]
          }
        }
      },
      "required": [
        "pages",
        "root"
      ]
    },
    "ITabBar": {
      "type": "object",
      "properties": {
        "custom": {
          "type": "boolean"
        },
        "list": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "pagePath": {
                "type": "string"
              },
              "text": {
                "type": "string"
              },
              "iconPath": {
                "type": "string"
              },
              "selectedIconPath": {
                "type": "string"
              },
              "renderer": {
                "enum": [
                  "cover-view",
                  "skyline",
                  "webview"
                ],
                "type": "string"
              }
            },
            "required": [
              "pagePath"
            ]
          }
        },
        "borderStyle": {
          "enum": [
            "black",
            "white"
          ],
          "type": "string"
        },
        "position": {
          "enum": [
            "bottom",
            "top"
          ],
          "type": "string"
        },
        "color": {
          "type": "string"
        },
        "selectedColor": {
          "type": "string"
        },
        "backgroundColor": {
          "type": "string"
        }
      },
      "required": [
        "list"
      ]
    },
    "ISupportMaterial": {
      "type": "object",
      "properties": {
        "materialType": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "desc": {
          "type": "string"
        },
        "path": {
          "type": "string"
        }
      },
      "required": [
        "desc",
        "materialType",
        "name",
        "path"
      ]
    }
  },
  "$schema": "http://json-schema.org/draft-07/schema#"
}
